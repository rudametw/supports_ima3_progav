https://embedjournal.com/implementing-circular-buffer-embedded-c/
